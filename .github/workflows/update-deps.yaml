name: Update Dependencies
on: push
  #  schedule:
  #    - cron: "0 0 * * 0"
jobs:
  update_deps:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: mlugg/setup-zig@v1
      - name: Get Limine Binary Zip
        uses: actions/github-script@v7
        id: limine-binary
        with:
          result-encoding: string
          script: |
            const latestTags = await github.rest.repos.listTags({ owner: "limine-bootloader", repo: "limine", per_page: 4 })
            const url = latestTags.data.find(e => e.name.endsWith('-binary')).zipball_url
            const execSync = require('child-process').execSync;
            const output = execSync('zig fetch --save=limine_bin');
            console.log(output)
